<div class="filter-container">
  <!-- Header -->
  <div class="form-header">
    <h2 class="form-title">
      <i class="pi pi-search"></i>
      Buscar Categoría
    </h2>
    <p class="form-subtitle">
      Encuentra una categoría específica por su ID
    </p>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="loading" class="loading-container">
    <p-progressSpinner strokeWidth="3" />
    <p class="loading-text">Buscando categoría...</p>
  </div>

  <!-- Formulario -->
  <div class="form-wrapper" *ngIf="!loading">
    <form [formGroup]="searchForm" (ngSubmit)="buscarCategoria()" class="search-form">

      <!-- Campo ID -->
      <div class="form-field">
        <label for="id" class="field-label">
          ID de Categoría <span class="required">*</span>
        </label>
        <p-iconfield iconPosition="left">
          <p-inputicon styleClass="pi pi-hashtag"></p-inputicon>
          <input
            type="number"
            pInputText
            id="id"
            formControlName="id"
            placeholder="Ej: 1, 2, 3..."
            class="field-input"
            [class.field-error]="isFieldInvalid('id')"
            min="1">
        </p-iconfield>
        <small *ngIf="isFieldInvalid('id')" class="error-message">
          <i class="pi pi-exclamation-circle"></i>
          {{ getFieldError('id') }}
        </small>
      </div>

      <!-- Botones de acción -->
      <div class="form-actions">
        <p-button
          type="submit"
          [label]="getSearchButtonText()"
          [icon]="getSearchButtonIcon()"
          [loading]="searching"
          [disabled]="searchForm.invalid || searching"
          styleClass="submit-btn">
        </p-button>

        <p-button
          type="button"
          label="Limpiar"
          icon="pi pi-times"
          severity="secondary"
          [outlined]="true"
          (onClick)="limpiarBusqueda()"
          [disabled]="searching"
          styleClass="cancel-btn">
        </p-button>
      </div>
    </form>
  </div>

  <!-- Información adicional -->
  <div *ngIf="hasSearchResults() && !loading" class="form-info">
    <div class="info-card">
      <i class="pi pi-info-circle info-icon"></i>
      <div class="info-content">
        <h4 class="info-title">Última búsqueda</h4>
        <p class="info-text">ID buscado: <strong>{{ lastSearchId }}</strong></p>
      </div>
    </div>
  </div>

</div>

<!-- Toast para mensajes -->
<p-toast />
