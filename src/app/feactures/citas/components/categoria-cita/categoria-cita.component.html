<div class="categoria-cita-container">
  <!-- Header Principal -->
  <div class="main-header">
    <div class="header-content">
      <div class="title-section">
        <h1>
          <i class="pi pi-tags"></i>
          Categorías de Citas
        </h1>
        <p>Gestiona las categorías para organizar tus citas</p>
      </div>
      <div class="action-buttons">
        <p-button
          label="Nueva Categoría"
          icon="pi pi-plus"
          severity="primary"
          (onClick)="mostrarFormularioCrear()"
          styleClass="action-btn">
        </p-button>
        <p-button
          label="Buscar"
          icon="pi pi-search"
          severity="secondary"
          [outlined]="true"
          (onClick)="mostrarFiltro()"
          styleClass="action-btn">
        </p-button>

    </div>
    </div>
  </div>

  <!-- Contenido Principal -->
  <div class="main-content">

    <!-- Vista de Listado (por defecto) -->
    <div *ngIf="isListView()">
      <app-categoria-cita-list
        [showActions]="true"
        (edit)="mostrarFormularioEditar($event)"
        (delete)="mostrarEliminacion($event)"
        (detail)="verDetalleCategoria($event)">
      </app-categoria-cita-list>
    </div>

    <!-- Vista de Formulario -->
    <div *ngIf="isFormView()">
      <app-categoria-cita-forms
        [categoria]="categoriaSeleccionada"
        [isEditing]="isEditing"
        [isViewing]="isViewing"
        [visible]="showForm"
        (save)="guardarCategoria($event)"
        (cancel)="cerrarFormulario()"
        (visibleChange)="cerrarFormulario()">
      </app-categoria-cita-forms>
    </div>

    <!-- Vista de Eliminación -->
    <div *ngIf="isDeleteView()">
      <app-categoria-cita-delete
        [categoria]="categoriaParaEliminar"
        [visible]="showDelete"
        (deleteSuccess)="onDeleteSuccess()"
        (deleteError)="onDeleteError($event)"
        (visibleChange)="cerrarEliminacion()">
      </app-categoria-cita-delete>
    </div>

    <!-- Vista de Filtro -->
    <div *ngIf="isFilterView()">
      <app-categoria-cita-filter
        (searchResult)="onSearchResult($event)"
        (searchError)="onSearchError($event)">
      </app-categoria-cita-filter>
    </div>

  </div>
</div>

<!-- Servicios de PrimeNG -->
<p-confirmDialog></p-confirmDialog>
